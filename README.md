# DMishanin.ru v2.0

Мини-портал для обмена идеями и знаниями с единомышленниками. Построен с использованием React и Directus CMS.

## Структура проекта

```
.
├── client/           # Фронтенд на React + Tailwind CSS
│   ├── src/
│   │   ├── api/        # API клиент для Directus
│   │   ├── assets/     # Статические ресурсы
│   │   ├── components/ # Переиспользуемые компоненты
│   │   ├── context/    # React контексты
│   │   ├── layouts/    # Шаблоны страниц
│   │   ├── pages/      # Страницы приложения
│   │   ├── types/      # TypeScript типы
│   │   └── styles/     # Стили и темы
├── docs/            # Документация
└── README.md
```

## Текущий статус
- ✅ Базовая структура проекта
- ✅ Настройка TailwindCSS
- ✅ Главная страница
- ✅ Поддержка тем
- ✅ Публичная часть с статьями
- ✅ Публичная часть с проектами
- ✅ Загрузка и отображение изображений
- ✅ CMS-панель (Directus)
- ✅ Аутентификация
- ✅ Случайные эпиграфы на главной странице
- ⏳ Личный кабинет

## Запуск проекта

### Требования
- Node.js 18+
- npm 9+

### Локальный запуск (Windows)

Проще всего запустить проект с помощью скрипта:

```bash
start-dev.bat
```

Это запустит клиентскую часть в режиме разработки.

## Доступ к сервисам
- Фронтенд: http://localhost:3000
- Directus CMS: https://directus.dmishanin.ru
- Статические файлы: https://directus.dmishanin.ru/assets/

## Технологии

### Фронтенд
- React 18
- TypeScript
- React Router DOM 6
- Tailwind CSS 3
- Axios
- React Markdown
- Шрифты:
  - Inter (основной текст)
  - Plus Jakarta Sans (заголовки)
  - JetBrains Mono (код)

### Бэкенд
- Directus CMS (автономный)
  - REST API
  - GraphQL API
  - Управление файлами
  - Управление пользователями
  - Роли и права доступа

## Возможности

### Реализовано
- Адаптивная главная страница
- Темная/светлая тема
- Базовые UI компоненты
- Анимации и переходы
- Публичная часть с статьями
- Публичная часть с проектами
- Загрузка и отображение изображений
- Поддержка Markdown в статьях и проектах
- CMS-панель для управления контентом
- Система аутентификации
- Случайные эпиграфы на главной странице

### В разработке
- Личный кабинет пользователя
- Система ролей и прав доступа

## Учетные данные для тестирования

- Directus Admin:
  - Email: admin@example.com
  - Пароль: d1r3ctu5

## Функционал случайных эпиграфов

На главной странице сайта отображается случайная цитата из коллекции, хранящейся в Directus CMS. Эпиграф обновляется при каждом посещении страницы или при нажатии на кнопку обновления.

### Настройка в Directus

#### Структура коллекции `epigraphs`:
- `id` - первичный ключ (auto increment)
- `quote` - текст цитаты (string)
- `author` - автор цитаты (string)
- `status` - статус публикации: 'published' или 'draft' (string)

#### Добавление новых эпиграфов:
1. Войдите в административный интерфейс Directus
2. Перейдите в раздел "Коллекции" -> "epigraphs"
3. Нажмите "Создать" и заполните поля

## Устранение проблем

### Освобождение портов в Windows
Если порт 3000 занят:

1. Откройте командную строку от имени администратора
2. Найдите процесс:
```bash
netstat -ano | findstr :3000
```
3. Завершите процесс:
```bash
taskkill /PID XXXX /F
```
где XXXX - PID процесса из предыдущей команды 